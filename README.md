# swpipeline
backend softwares for swpy

# SWPIPELINE 프로젝트

## 패키지 구조

swpy_test_package  
├─database  
│ ├─config  
│ │ └─metadata_table_config  
│ └─script  
│ └─db  
├─dataset  
│ ├─api  
│ │ └─__pycache__  
│ └─__pycache__  
└─request  
└─__pycache__  


## 모듈 내용

1. **database**
   - 측정 데이터를 데이터 베이스에 업로드하기 위한 모듈
   - 사용자가 직접 사용하는 모듈이 아니어서 기존의 내용 그대로 사용

   1-1. **config**
      - 데이터 베이스 정보와 저장소 정보, 다중 데이터 처리를 위한 json 파일 포함
      - 각 데이터들의 정보가 작성된 json 파일 포함

      1-1-1. **metadata_table_config**
         - 20개 종류의 데이터 정보가 작성된 json 파일 포함
         - 저장소 정보나 데이터 아이디 등 데이터 목록과 다른 내용 수정

   1-2. **script**
      - 데이터 베이스의 기능적인 부분이 작성된 내용 포함
      - 기존 내용 그대로 사용

2. **dataset**
   - 측정 데이터의 내용을 헤더, 데이터로 구분하고 시각화 조회 기능을 제공하는 모듈
   - 사용자가 직접 파일을 가져와 데이터를 조회할 수 있는 `user_dataset.py` 작성
   - 파일 탐색, 데이터 아이디 검색, 데이터 조회의 기능을 가진 `search_dataset.py` 작성

   2-1. **api**
      - 추상 클래스 base_dataset 기반으로 작성
      - 각 테이블의 데이터들로 구성된 데이터를 base_dataset 내용에 따라 파싱, 헤더+데이터 구분, 시각화 기능 구현
      - 11개 종류의 테이블(SDO 제외) 데이터 셋 처리 코드 작성
      - 시각화의 경우 데이터 분할 / 통합 표시 기능 구현

   2-2. **user_dataset.py**
      - 파일 검색 기능 구현 (파일 탐색기 사용 / 파일 경로 직접 입력)
      - 데이터 아이디 검색 기능 구현 (데이터 아이디 리스트 조회 / 데이터 아이디 직접 입력)
      - 조회 데이터 선택 기능 구현 (헤더 / 데이터 / 헤더+데이터 / 시각화 / 모두)

   2-3. **search_dataset.py**
      - `api`에 작성된 내용들을 기반으로 데이터 조회 기능 작성
      - 각 데이터 아이디와 데이터 셋 클래스를 매칭하는 딕셔너리 포함
      - 데이터 아이디의 경우 데이터 목록의 내용과 웹 API의 내용과 상이한 내용이 존재해 확인 필요
      - 파일 탐색기를 통해 파일 경로를 불러오는 `file_explorer` 함수 구현
      - 데이터 아이디를 검색할 수 있는 `data_id_explorer` 함수 구현
      - 5가지 조회 기능을 제공하는 `search` 함수 구현

3. **request**
   - 측정 데이터 파일을 요청하여 다운로드 기능을 제공하는 모듈
   - 사용자가 직접 검색 방법을 선택하는 기능을 가진 `user_request.py` 작성
   - 스택을 사용해 웹 API의 정보를 불러와 검색하거나 취소 기능을 제공하는 `data_request.py` 작성

   3-1. **user_request.py**
      - 검색방법 선택 기능 구현 (순차적 선택 입력 / 통합 직접 입력)

   3-2. **data_request.py**
      - 웹 API의 기능의 편의성 개선
      - 스택을 사용하여 순차적 선택 내용을 기억해 취소 기능 구현
      - 테이블, 데이터 아이디, 측정 시작 날짜, 측정 종료 날짜(생략 가능) 순으로 조회 기능 구현
      - 다운로드 기능 구현 (해당 위치에 다운로드 / 경로 직접 입력)